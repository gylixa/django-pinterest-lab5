<!-- templates/projects_list.html -->
{% extends 'base.html' %}
{% load static %}

{% block title %}–ü—Ä–æ–µ–∫—Ç—ã –∏ –∫–æ—Ä–ø—É—Å–∞{% endblock %}

{% block content %}
<h1>–ü—Ä–æ–µ–∫—Ç—ã –∏ –∫–æ—Ä–ø—É—Å–∞</h1>

{% for project in projects %}
<div style="margin-bottom: 40px; padding: 20px; background: #222; border-radius: 10px;">
    <h2>üèó {{ project.name }}</h2>
    <p><strong>–ì–æ—Ä–æ–¥:</strong> {{ project.city }}</p>
    <p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong> {{ project.description|default:"‚Äî" }}</p>

    {% if project.buildings.exists %}
        <h3>–ö–æ—Ä–ø—É—Å–∞:</h3>
        <table border="1" cellpadding="10" cellspacing="0" style="width:100%; margin-top:15px; background:#333;">
            <thead>
                <tr style="background:#444;">
                    <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                    <th>–≠—Ç–∞–∂–µ–π</th>
                    <th>–ö–≤–∞—Ä—Ç–∏—Ä</th>
                    <th>–°—Ç–∞—Ç—É—Å</th>
                </tr>
            </thead>
            <tbody>
                {% for building in project.buildings.all %}
                <tr>
                    <td>{{ building.name }}</td>
                    <td>{{ building.floors }}</td>
                    <td>{{ building.apartments_count }}</td>
                    <td>{{ building.get_status_display }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        <p><em>–ö–æ—Ä–ø—É—Å–∞ –µ—â—ë –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã.</em></p>
    {% endif %}
</div>
{% empty %}
<p>–ü—Ä–æ–µ–∫—Ç—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã.</p>
{% endfor %}

<style>
    table { color: white; border-collapse: collapse; }
    th, td { text-align: left; }
</style>
{% endblock %}